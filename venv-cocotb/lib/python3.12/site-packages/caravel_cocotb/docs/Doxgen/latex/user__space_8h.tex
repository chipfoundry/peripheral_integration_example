\hypertarget{user__space_8h}{}\section{/home/rady/caravel/caravel\+\_\+release/caravel-\/dynamic-\/sims/cocotb/caravel\+\_\+cocotb/interfaces/common\+\_\+functions/user\+\_\+space.h File Reference}
\label{user__space_8h}\index{/home/rady/caravel/caravel\+\_\+release/caravel-\/dynamic-\/sims/cocotb/caravel\+\_\+cocotb/interfaces/common\+\_\+functions/user\+\_\+space.\+h@{/home/rady/caravel/caravel\+\_\+release/caravel-\/dynamic-\/sims/cocotb/caravel\+\_\+cocotb/interfaces/common\+\_\+functions/user\+\_\+space.\+h}}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=262pt]{user__space_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{user__space_8h_a613cc002383517796ba21968f75c0ff4}{User\+\_\+enable\+IF} ()
\item 
void \hyperlink{user__space_8h_ab4b69057d303df38c571ff19fe70d760}{U\+S\+E\+R\+\_\+write\+Word} (unsigned int data, int offset)
\item 
unsigned int \hyperlink{user__space_8h_a8341444d1c6a9834627a08284b86bdfd}{U\+S\+E\+R\+\_\+read\+Word} (int offset)
\item 
void \hyperlink{user__space_8h_a3aa2a0b36d2fea89e3540866fa878505}{U\+S\+E\+R\+\_\+write\+Half\+Word} (unsigned short data, unsigned int offset, bool is\+\_\+first\+\_\+word)
\item 
unsigned short \hyperlink{user__space_8h_ad5f4e621258f311f860ee139078d402b}{U\+S\+E\+R\+\_\+read\+Half\+Word} (unsigned int offset, bool is\+\_\+first\+\_\+word)
\item 
void \hyperlink{user__space_8h_a9cda3d41541035be2198550b85cd1a5f}{U\+S\+E\+R\+\_\+write\+Byte} (unsigned char data, unsigned int offset, unsigned char byte\+\_\+num)
\item 
unsigned char \hyperlink{user__space_8h_a4d1bd64c76584c644c5c30091b6a2380}{U\+S\+E\+R\+\_\+read\+Byte} (unsigned int offset, unsigned char byte\+\_\+num)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{user__space_8h_a613cc002383517796ba21968f75c0ff4}\label{user__space_8h_a613cc002383517796ba21968f75c0ff4}} 
\index{user\+\_\+space.\+h@{user\+\_\+space.\+h}!User\+\_\+enable\+IF@{User\+\_\+enable\+IF}}
\index{User\+\_\+enable\+IF@{User\+\_\+enable\+IF}!user\+\_\+space.\+h@{user\+\_\+space.\+h}}
\subsubsection{\texorpdfstring{User\+\_\+enable\+I\+F()}{User\_enableIF()}}
{\footnotesize\ttfamily void User\+\_\+enable\+IF (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Enable communication between firmware and user project through wishbone \begin{DoxyWarning}{Warning}
This necessary when reading or writing are needed between wishbone and user project if interface isn\textquotesingle{}t enabled no ack would be receive and the writing or reading command will be stuck 
\end{DoxyWarning}
\mbox{\Hypertarget{user__space_8h_a4d1bd64c76584c644c5c30091b6a2380}\label{user__space_8h_a4d1bd64c76584c644c5c30091b6a2380}} 
\index{user\+\_\+space.\+h@{user\+\_\+space.\+h}!U\+S\+E\+R\+\_\+read\+Byte@{U\+S\+E\+R\+\_\+read\+Byte}}
\index{U\+S\+E\+R\+\_\+read\+Byte@{U\+S\+E\+R\+\_\+read\+Byte}!user\+\_\+space.\+h@{user\+\_\+space.\+h}}
\subsubsection{\texorpdfstring{U\+S\+E\+R\+\_\+read\+Byte()}{USER\_readByte()}}
{\footnotesize\ttfamily unsigned char U\+S\+E\+R\+\_\+read\+Byte (\begin{DoxyParamCaption}\item[{unsigned int}]{offset,  }\item[{unsigned char}]{byte\+\_\+num }\end{DoxyParamCaption})}

Read byte at user address space 32 bit register


\begin{DoxyParams}{Parameters}
{\em offset} & the offset of the register to write. Origin at the user project address \\
\hline
{\em byte\+\_\+num} & number of the in the 4 bytes register (32 bits)\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Since offset is a word (4 bytes) and address space represent bytes, offset = address /4 ~\newline
 For example if project caravel space are 26 address bit offset = wb\+\_\+addr\+\_\+i\mbox{[}25\+:0\mbox{]}/4
\end{DoxyNote}
\hypertarget{user__space_8h_multi_row}{}
\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{6}{|X[-1]}|}
\caption{world memory (2byte offset)}\label{user__space_8h_multi_row}\\
\hline
\rowcolor{\tableheadbgcolor}\textbf{ byte\+\_\+num}&\textbf{ -\/}&\textbf{ 0 }&\textbf{ 1}&\textbf{ 2}&\textbf{ 3 }\\\cline{1-6}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ byte\+\_\+num}&\textbf{ -\/}&\textbf{ 0 }&\textbf{ 1}&\textbf{ 2}&\textbf{ 3 }\\\cline{1-6}
\endhead
\rowcolor{\tableheadbgcolor}\textbf{ address}&\textbf{ offset }&\textbf{ byte0}&\textbf{ byte1}&\textbf{ byte2}&\textbf{ byte3 }\\\cline{1-6}
0x0&0&0&1&2&3 \\\cline{1-6}
0x4&1&4&5&6&7 \\\cline{1-6}
0x8&2&8&9&10&11 \\\cline{1-6}
0xC&3&12&13&14&15 \\\cline{1-6}
\end{longtabu}
\mbox{\Hypertarget{user__space_8h_ad5f4e621258f311f860ee139078d402b}\label{user__space_8h_ad5f4e621258f311f860ee139078d402b}} 
\index{user\+\_\+space.\+h@{user\+\_\+space.\+h}!U\+S\+E\+R\+\_\+read\+Half\+Word@{U\+S\+E\+R\+\_\+read\+Half\+Word}}
\index{U\+S\+E\+R\+\_\+read\+Half\+Word@{U\+S\+E\+R\+\_\+read\+Half\+Word}!user\+\_\+space.\+h@{user\+\_\+space.\+h}}
\subsubsection{\texorpdfstring{U\+S\+E\+R\+\_\+read\+Half\+Word()}{USER\_readHalfWord()}}
{\footnotesize\ttfamily unsigned short U\+S\+E\+R\+\_\+read\+Half\+Word (\begin{DoxyParamCaption}\item[{unsigned int}]{offset,  }\item[{bool}]{is\+\_\+first\+\_\+word }\end{DoxyParamCaption})}

Read half word (2 bytes) at user address space 32 bit register


\begin{DoxyParams}{Parameters}
{\em offset} & the offset of the register to write. Origin at the user project address \\
\hline
{\em is\+\_\+first\+\_\+word} & the offset of the register to write. Origin at the user project address\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Since offset is a word (4 bytes) and address space represent bytes, offset = address /4 ~\newline
 For example if project caravel space are 26 address bit offset = wb\+\_\+addr\+\_\+i\mbox{[}25\+:0\mbox{]}/4
\end{DoxyNote}
\hypertarget{user__space_8h_multi_row}{}
\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{6}{|X[-1]}|}
\caption{world memory (2byte offset)}\label{user__space_8h_multi_row}\\
\hline
\rowcolor{\tableheadbgcolor}\textbf{ is first word}&\textbf{ -\/}&\textbf{ 1}&\textbf{ 1 }&\textbf{ 0}&\textbf{ 0 }\\\cline{1-6}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ is first word}&\textbf{ -\/}&\textbf{ 1}&\textbf{ 1 }&\textbf{ 0}&\textbf{ 0 }\\\cline{1-6}
\endhead
\rowcolor{\tableheadbgcolor}\textbf{ address}&\textbf{ offset }&\textbf{ byte0}&\textbf{ byte1}&\textbf{ byte2}&\textbf{ byte3 }\\\cline{1-6}
0x0&0&0&1&2&3 \\\cline{1-6}
0x4&1&4&5&6&7 \\\cline{1-6}
0x8&2&8&9&10&11 \\\cline{1-6}
0xC&3&12&13&14&15 \\\cline{1-6}
\end{longtabu}
\mbox{\Hypertarget{user__space_8h_a8341444d1c6a9834627a08284b86bdfd}\label{user__space_8h_a8341444d1c6a9834627a08284b86bdfd}} 
\index{user\+\_\+space.\+h@{user\+\_\+space.\+h}!U\+S\+E\+R\+\_\+read\+Word@{U\+S\+E\+R\+\_\+read\+Word}}
\index{U\+S\+E\+R\+\_\+read\+Word@{U\+S\+E\+R\+\_\+read\+Word}!user\+\_\+space.\+h@{user\+\_\+space.\+h}}
\subsubsection{\texorpdfstring{U\+S\+E\+R\+\_\+read\+Word()}{USER\_readWord()}}
{\footnotesize\ttfamily unsigned int U\+S\+E\+R\+\_\+read\+Word (\begin{DoxyParamCaption}\item[{int}]{offset }\end{DoxyParamCaption})}

Read word (4 bytes) at user address space 32 bit register


\begin{DoxyParams}{Parameters}
{\em offset} & the offset of the register to write. Origin at the user project address\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Since offset is a word (4 bytes) and address space represent bytes, offset = address /4 ~\newline
 For example if project caravel space are 26 address bit offset = wb\+\_\+addr\+\_\+i\mbox{[}25\+:0\mbox{]}/4
\end{DoxyNote}
\hypertarget{user__space_8h_multi_row}{}
\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{6}{|X[-1]}|}
\caption{world memory (4 bytes offset)}\label{user__space_8h_multi_row}\\
\hline
\rowcolor{\tableheadbgcolor}\textbf{ address}&\textbf{ offset }&\textbf{ byte0}&\textbf{ byte1}&\textbf{ byte2}&\textbf{ byte3 }\\\cline{1-6}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ address}&\textbf{ offset }&\textbf{ byte0}&\textbf{ byte1}&\textbf{ byte2}&\textbf{ byte3 }\\\cline{1-6}
\endhead
0x0&0&0&1&2&3 \\\cline{1-6}
0x4&1&4&5&6&7 \\\cline{1-6}
0x8&2&8&9&10&11 \\\cline{1-6}
0xC&3&12&13&14&15 \\\cline{1-6}
\end{longtabu}
\mbox{\Hypertarget{user__space_8h_a9cda3d41541035be2198550b85cd1a5f}\label{user__space_8h_a9cda3d41541035be2198550b85cd1a5f}} 
\index{user\+\_\+space.\+h@{user\+\_\+space.\+h}!U\+S\+E\+R\+\_\+write\+Byte@{U\+S\+E\+R\+\_\+write\+Byte}}
\index{U\+S\+E\+R\+\_\+write\+Byte@{U\+S\+E\+R\+\_\+write\+Byte}!user\+\_\+space.\+h@{user\+\_\+space.\+h}}
\subsubsection{\texorpdfstring{U\+S\+E\+R\+\_\+write\+Byte()}{USER\_writeByte()}}
{\footnotesize\ttfamily void U\+S\+E\+R\+\_\+write\+Byte (\begin{DoxyParamCaption}\item[{unsigned char}]{data,  }\item[{unsigned int}]{offset,  }\item[{unsigned char}]{byte\+\_\+num }\end{DoxyParamCaption})}

Write byte at user address space 32 bit register


\begin{DoxyParams}{Parameters}
{\em data} & byte data to write \\
\hline
{\em offset} & the offset of the register to write. Origin at the user project address \\
\hline
{\em byte\+\_\+num} & number of the in the 4 bytes register (32 bits)\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Since offset is a word (4 bytes) and address space represent bytes, offset = address /4 ~\newline
 For example if project caravel space are 26 address bit offset = wb\+\_\+addr\+\_\+i\mbox{[}25\+:0\mbox{]}/4
\end{DoxyNote}
\hypertarget{user__space_8h_multi_row}{}
\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{6}{|X[-1]}|}
\caption{world memory (2byte offset)}\label{user__space_8h_multi_row}\\
\hline
\rowcolor{\tableheadbgcolor}\textbf{ byte\+\_\+num}&\textbf{ -\/}&\textbf{ 0 }&\textbf{ 1}&\textbf{ 2}&\textbf{ 3 }\\\cline{1-6}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ byte\+\_\+num}&\textbf{ -\/}&\textbf{ 0 }&\textbf{ 1}&\textbf{ 2}&\textbf{ 3 }\\\cline{1-6}
\endhead
\rowcolor{\tableheadbgcolor}\textbf{ address}&\textbf{ offset }&\textbf{ byte0}&\textbf{ byte1}&\textbf{ byte2}&\textbf{ byte3 }\\\cline{1-6}
0x0&0&0&1&2&3 \\\cline{1-6}
0x4&1&4&5&6&7 \\\cline{1-6}
0x8&2&8&9&10&11 \\\cline{1-6}
0xC&3&12&13&14&15 \\\cline{1-6}
\end{longtabu}
\mbox{\Hypertarget{user__space_8h_a3aa2a0b36d2fea89e3540866fa878505}\label{user__space_8h_a3aa2a0b36d2fea89e3540866fa878505}} 
\index{user\+\_\+space.\+h@{user\+\_\+space.\+h}!U\+S\+E\+R\+\_\+write\+Half\+Word@{U\+S\+E\+R\+\_\+write\+Half\+Word}}
\index{U\+S\+E\+R\+\_\+write\+Half\+Word@{U\+S\+E\+R\+\_\+write\+Half\+Word}!user\+\_\+space.\+h@{user\+\_\+space.\+h}}
\subsubsection{\texorpdfstring{U\+S\+E\+R\+\_\+write\+Half\+Word()}{USER\_writeHalfWord()}}
{\footnotesize\ttfamily void U\+S\+E\+R\+\_\+write\+Half\+Word (\begin{DoxyParamCaption}\item[{unsigned short}]{data,  }\item[{unsigned int}]{offset,  }\item[{bool}]{is\+\_\+first\+\_\+word }\end{DoxyParamCaption})}

Write half word (2 bytes) at user address space 32 bit register


\begin{DoxyParams}{Parameters}
{\em data} & half world data to write \\
\hline
{\em offset} & the offset of the register to write. Origin at the user project address \\
\hline
{\em is\+\_\+first\+\_\+word} & the offset of the register to write. Origin at the user project address\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Since offset is a word (4 bytes) and address space represent bytes, offset = address /4 ~\newline
 For example if project caravel space are 26 address bit offset = wb\+\_\+addr\+\_\+i\mbox{[}25\+:0\mbox{]}/4
\end{DoxyNote}
\hypertarget{user__space_8h_multi_row}{}
\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{6}{|X[-1]}|}
\caption{world memory (2byte offset)}\label{user__space_8h_multi_row}\\
\hline
\rowcolor{\tableheadbgcolor}\textbf{ is first word}&\textbf{ -\/}&\textbf{ 1}&\textbf{ 1 }&\textbf{ 0}&\textbf{ 0 }\\\cline{1-6}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ is first word}&\textbf{ -\/}&\textbf{ 1}&\textbf{ 1 }&\textbf{ 0}&\textbf{ 0 }\\\cline{1-6}
\endhead
\rowcolor{\tableheadbgcolor}\textbf{ address}&\textbf{ offset }&\textbf{ byte0}&\textbf{ byte1}&\textbf{ byte2}&\textbf{ byte3 }\\\cline{1-6}
0x0&0&0&1&2&3 \\\cline{1-6}
0x4&1&4&5&6&7 \\\cline{1-6}
0x8&2&8&9&10&11 \\\cline{1-6}
0xC&3&12&13&14&15 \\\cline{1-6}
\end{longtabu}
\mbox{\Hypertarget{user__space_8h_ab4b69057d303df38c571ff19fe70d760}\label{user__space_8h_ab4b69057d303df38c571ff19fe70d760}} 
\index{user\+\_\+space.\+h@{user\+\_\+space.\+h}!U\+S\+E\+R\+\_\+write\+Word@{U\+S\+E\+R\+\_\+write\+Word}}
\index{U\+S\+E\+R\+\_\+write\+Word@{U\+S\+E\+R\+\_\+write\+Word}!user\+\_\+space.\+h@{user\+\_\+space.\+h}}
\subsubsection{\texorpdfstring{U\+S\+E\+R\+\_\+write\+Word()}{USER\_writeWord()}}
{\footnotesize\ttfamily void U\+S\+E\+R\+\_\+write\+Word (\begin{DoxyParamCaption}\item[{unsigned int}]{data,  }\item[{int}]{offset }\end{DoxyParamCaption})}

Write word (4 bytes) at user address space 32 bit register


\begin{DoxyParams}{Parameters}
{\em data} & world data to write \\
\hline
{\em offset} & the offset of the register to write. Origin at the user project address\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Since offset is a word (4 bytes) and address space represent bytes, offset = address /4 ~\newline
 For example if project caravel space are 26 address bit offset = wb\+\_\+addr\+\_\+i\mbox{[}25\+:0\mbox{]}/4
\end{DoxyNote}
\hypertarget{user__space_8h_multi_row}{}
\tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{6}{|X[-1]}|}
\caption{world memory (4 bytes offset)}\label{user__space_8h_multi_row}\\
\hline
\rowcolor{\tableheadbgcolor}\textbf{ address}&\textbf{ offset }&\textbf{ byte0}&\textbf{ byte1}&\textbf{ byte2}&\textbf{ byte3 }\\\cline{1-6}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ address}&\textbf{ offset }&\textbf{ byte0}&\textbf{ byte1}&\textbf{ byte2}&\textbf{ byte3 }\\\cline{1-6}
\endhead
0x0&0&0&1&2&3 \\\cline{1-6}
0x4&1&4&5&6&7 \\\cline{1-6}
0x8&2&8&9&10&11 \\\cline{1-6}
0xC&3&12&13&14&15 \\\cline{1-6}
\end{longtabu}
